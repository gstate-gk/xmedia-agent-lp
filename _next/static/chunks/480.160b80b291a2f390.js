"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[480],{8718:(e,t,s)=>{s.r(t),s.d(t,{ModelViewer:()=>M});var n=s(5155),a=s(2115),i=s(264),r=s(258),o=s(3531),c=s(3709),l=s(8014),d=s(2034),h=s(6750),f=s(5339);function u(e){let{url:t}=e,s=(0,a.useRef)(null),{scene:r}=(0,o.p)(t),[l,d]=(0,a.useState)(!1),h=(0,a.useRef)([]);return(0,a.useEffect)(()=>{let e=[];r.traverse(t=>{if(t instanceof f.eaF&&t.material){let s=t.material;if(s.isMeshStandardMaterial){s.envMapIntensity=3.5,s.roughness=Math.min(s.roughness,.35),s.metalness=Math.max(s.metalness,.75);let{r:t,g:n,b:a}=s.color;a>.35&&t<.35?(s.emissive=new f.Q1f("#06b6d4"),s.emissiveIntensity=1,e.push({mat:s,type:"cyan"})):t>.4&&a<.25&&n<.4?(s.emissive=new f.Q1f("#f97316"),s.emissiveIntensity=.9,e.push({mat:s,type:"orange"})):.1>Math.abs(t-n)&&.1>Math.abs(n-a)&&t>.15&&t<.5&&(s.emissive=new f.Q1f("#0e7490"),s.emissiveIntensity=.08),s.needsUpdate=!0}}}),h.current=e},[r]),(0,i.D)((e,t)=>{let{clock:n}=e;if(!s.current)return;let a=n.getElapsedTime();l||(s.current.rotation.y+=.25*t),s.current.position.y=.06*Math.sin(.8*a);let i=1.4+.02*Math.sin(1.2*a);for(let{mat:e,type:t}of(s.current.scale.setScalar(i),s.current.rotation.z=.02*Math.sin(.5*a),s.current.rotation.x=.01*Math.cos(.7*a),h.current))"cyan"===t?e.emissiveIntensity=.7+.4*Math.sin(1.5*a):e.emissiveIntensity=.6+.4*Math.sin(2*a+1.5)}),(0,n.jsx)(c.o,{children:(0,n.jsx)("group",{ref:s,onPointerOver:()=>d(!0),onPointerOut:()=>d(!1),children:(0,n.jsx)("primitive",{object:r})})})}function p(){let{camera:e}=(0,i.C)();return(0,a.useEffect)(()=>{e.position.set(0,.4,1.5),e.lookAt(0,.2,0)},[e]),null}function m(e){let{count:t=60}=e,s=(0,a.useRef)(null),r=(0,a.useRef)(null),o=(0,a.useMemo)(()=>new f.B69,[]),c=Math.floor(.65*t),l=t-c,d=(0,a.useMemo)(()=>{let e=[];for(let t=0;t<c;t++)e.push({x:(Math.random()-.5)*4,y:(Math.random()-.5)*4,z:(Math.random()-.5)*4,speed:.2+.5*Math.random(),offset:Math.random()*Math.PI*2});return e},[c]),h=(0,a.useMemo)(()=>{let e=[];for(let t=0;t<l;t++)e.push({x:(Math.random()-.5)*3.5,y:(Math.random()-.5)*3.5,z:(Math.random()-.5)*3.5,speed:.3+.6*Math.random(),offset:Math.random()*Math.PI*2});return e},[l]);return(0,i.D)(e=>{let{clock:t}=e,n=t.getElapsedTime();s.current&&(d.forEach((e,t)=>{o.position.set(e.x+.3*Math.sin(n*e.speed+e.offset),e.y+.3*Math.cos(n*e.speed*.7+e.offset),e.z+.2*Math.sin(n*e.speed*.5+e.offset)),o.scale.setScalar(.005+.003*Math.sin(2*n+e.offset)),o.updateMatrix(),s.current.setMatrixAt(t,o.matrix)}),s.current.instanceMatrix.needsUpdate=!0),r.current&&(h.forEach((e,t)=>{o.position.set(e.x+.25*Math.sin(n*e.speed+e.offset),e.y+.25*Math.cos(n*e.speed*.8+e.offset),e.z+.2*Math.sin(n*e.speed*.6+e.offset)),o.scale.setScalar(.004+.003*Math.sin(2.5*n+e.offset)),o.updateMatrix(),r.current.setMatrixAt(t,o.matrix)}),r.current.instanceMatrix.needsUpdate=!0)}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("instancedMesh",{ref:s,args:[void 0,void 0,c],children:[(0,n.jsx)("sphereGeometry",{args:[1,6,6]}),(0,n.jsx)("meshBasicMaterial",{color:"#22d3ee",transparent:!0,opacity:.6})]}),(0,n.jsxs)("instancedMesh",{ref:r,args:[void 0,void 0,l],children:[(0,n.jsx)("sphereGeometry",{args:[1,6,6]}),(0,n.jsx)("meshBasicMaterial",{color:"#fb923c",transparent:!0,opacity:.5})]})]})}function x(){return(0,n.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4",children:[(0,n.jsx)("div",{className:"h-16 w-16 animate-spin rounded-full border-2 border-accent/20 border-t-accent"}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground tracking-[0.3em] uppercase",children:"Loading 3D"})]})}function M(e){let{modelUrl:t="/models/character-opt.glb",className:s=""}=e,[i,o]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{o(!0)},[]),i)?(0,n.jsx)("div",{className:"relative ".concat(s),children:(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)(x,{}),children:(0,n.jsxs)(r.Hl,{dpr:[1,2],gl:{antialias:!0,alpha:!0,toneMapping:f.FV},style:{background:"transparent"},camera:{fov:50},children:[(0,n.jsx)(p,{}),(0,n.jsx)("ambientLight",{intensity:.15}),(0,n.jsx)("directionalLight",{position:[3,4,2],intensity:2.5,color:"#ffffff",castShadow:!0}),(0,n.jsx)("directionalLight",{position:[-4,2,-1],intensity:1.2,color:"#22d3ee"}),(0,n.jsx)("spotLight",{position:[0,3,-3],intensity:3,angle:.6,penumbra:.8,color:"#06b6d4"}),(0,n.jsx)("pointLight",{position:[0,-2,0],intensity:.5,color:"#0891b2"}),(0,n.jsx)("pointLight",{position:[2,-1,1],intensity:1.5,color:"#f97316",distance:5,decay:2}),(0,n.jsx)("spotLight",{position:[-3,2,2],intensity:1.8,angle:.5,penumbra:.9,color:"#fb923c"}),(0,n.jsx)(l.OH,{preset:"night"}),(0,n.jsx)(m,{count:50}),(0,n.jsx)(u,{url:t}),(0,n.jsx)(d._,{position:[0,-1.2,0],opacity:.4,scale:4,blur:2.5,far:4,color:"#000000"}),(0,n.jsx)(h.N,{enablePan:!1,enableZoom:!1,minPolarAngle:Math.PI/6,maxPolarAngle:Math.PI/1.8,autoRotate:!1,dampingFactor:.05,enableDamping:!0})]})})}):(0,n.jsx)("div",{className:"relative ".concat(s),children:(0,n.jsx)(x,{})})}}}]);