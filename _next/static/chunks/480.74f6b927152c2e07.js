"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[480],{8718:(e,t,s)=>{s.r(t),s.d(t,{ModelViewer:()=>j});var a=s(5155),n=s(2115),i=s(264),r=s(258),o=s(3531),l=s(7140),c=s(3709),d=s(8014),f=s(2034),h=s(6750),u=s(5339);function p(e){let{url:t}=e,s=(0,n.useRef)(null),{scene:r,animations:d}=(0,o.p)(t),{actions:f}=(0,l.f)(d,s),[h,p]=(0,n.useState)(!1),m=(0,n.useRef)([]);return(0,n.useEffect)(()=>{let e=Object.keys(f);if(e.length>0){let t=f[e[0]];t&&(t.reset().fadeIn(.5).play(),t.setLoop(u.aMy,1/0),t.timeScale=.8)}},[f]),(0,n.useEffect)(()=>{let e=[];r.traverse(t=>{if(t instanceof u.eaF&&t.material){let s=t.material;if(s.isMeshStandardMaterial){s.envMapIntensity=2.5,s.roughness=Math.min(s.roughness,.45),s.metalness=Math.max(s.metalness,.6);let{r:t,g:a,b:n}=s.color;t>.35&&a>.15&&a<.35&&n<.2?(s.emissive=new u.Q1f("#d97706"),s.emissiveIntensity=.8,e.push({mat:s,type:"amber"})):n>.3&&a>.3&&t<.3?(s.emissive=new u.Q1f("#14b8a6"),s.emissiveIntensity=.6,e.push({mat:s,type:"teal"})):n>.25&&t>.15&&t<.4&&.15>Math.abs(t-a)&&(s.emissive=new u.Q1f("#4338ca"),s.emissiveIntensity=.05),s.needsUpdate=!0}}}),m.current=e},[r]),(0,i.D)((e,t)=>{let{clock:a}=e;if(!s.current)return;let n=a.getElapsedTime();for(let{mat:e,type:a}of(h||(s.current.rotation.y+=.2*t),s.current.position.y=.04*Math.sin(.6*n),m.current))"amber"===a?e.emissiveIntensity=.5+.4*Math.sin(1.2*n):e.emissiveIntensity=.4+.3*Math.sin(1.8*n+1)}),(0,a.jsx)(c.o,{children:(0,a.jsx)("group",{ref:s,onPointerOver:()=>p(!0),onPointerOut:()=>p(!1),scale:1.4,children:(0,a.jsx)("primitive",{object:r})})})}function m(){let{camera:e}=(0,i.C)();return(0,n.useEffect)(()=>{e.position.set(0,.3,1.4),e.lookAt(0,.15,0)},[e]),null}function x(e){let{count:t=50}=e,s=(0,n.useRef)(null),r=(0,n.useRef)(null),o=(0,n.useMemo)(()=>new u.B69,[]),l=Math.floor(.45*t),c=t-l,d=(0,n.useMemo)(()=>{let e=[];for(let t=0;t<l;t++)e.push({x:(Math.random()-.5)*3.5,y:(Math.random()-.5)*3.5,z:(Math.random()-.5)*3.5,speed:.15+.4*Math.random(),offset:Math.random()*Math.PI*2});return e},[l]),f=(0,n.useMemo)(()=>{let e=[];for(let t=0;t<c;t++)e.push({x:(Math.random()-.5)*4,y:(Math.random()-.5)*4,z:(Math.random()-.5)*4,speed:.2+.5*Math.random(),offset:Math.random()*Math.PI*2});return e},[c]);return(0,i.D)(e=>{let{clock:t}=e,a=t.getElapsedTime();s.current&&(d.forEach((e,t)=>{o.position.set(e.x+.25*Math.sin(a*e.speed+e.offset),e.y+.25*Math.cos(a*e.speed*.7+e.offset),e.z+.2*Math.sin(a*e.speed*.5+e.offset)),o.scale.setScalar(.005+.003*Math.sin(2*a+e.offset)),o.updateMatrix(),s.current.setMatrixAt(t,o.matrix)}),s.current.instanceMatrix.needsUpdate=!0),r.current&&(f.forEach((e,t)=>{o.position.set(e.x+.3*Math.sin(a*e.speed+e.offset),e.y+.3*Math.cos(a*e.speed*.8+e.offset),e.z+.2*Math.sin(a*e.speed*.6+e.offset)),o.scale.setScalar(.004+.003*Math.sin(2.5*a+e.offset)),o.updateMatrix(),r.current.setMatrixAt(t,o.matrix)}),r.current.instanceMatrix.needsUpdate=!0)}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("instancedMesh",{ref:s,args:[void 0,void 0,l],children:[(0,a.jsx)("sphereGeometry",{args:[1,6,6]}),(0,a.jsx)("meshBasicMaterial",{color:"#d97706",transparent:!0,opacity:.5})]}),(0,a.jsxs)("instancedMesh",{ref:r,args:[void 0,void 0,c],children:[(0,a.jsx)("sphereGeometry",{args:[1,6,6]}),(0,a.jsx)("meshBasicMaterial",{color:"#14b8a6",transparent:!0,opacity:.5})]})]})}function M(){return(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4",children:[(0,a.jsx)("div",{className:"h-16 w-16 animate-spin rounded-full border-2 border-accent/20 border-t-accent"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground tracking-[0.3em] uppercase",children:"Loading 3D"})]})}function j(e){let{modelUrl:t="/models/character-animated.glb",className:s=""}=e,[i,o]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{o(!0)},[]),i)?(0,a.jsx)("div",{className:"relative ".concat(s),children:(0,a.jsx)(n.Suspense,{fallback:(0,a.jsx)(M,{}),children:(0,a.jsxs)(r.Hl,{dpr:[1,2],gl:{antialias:!0,alpha:!0,toneMapping:u.FV},style:{background:"transparent"},camera:{fov:50},children:[(0,a.jsx)(m,{}),(0,a.jsx)("ambientLight",{intensity:.2}),(0,a.jsx)("directionalLight",{position:[3,4,2],intensity:2,color:"#fff5e6",castShadow:!0}),(0,a.jsx)("directionalLight",{position:[-4,2,-1],intensity:1,color:"#818cf8"}),(0,a.jsx)("spotLight",{position:[0,3,-3],intensity:2.5,angle:.6,penumbra:.8,color:"#d97706"}),(0,a.jsx)("pointLight",{position:[0,-2,0],intensity:.6,color:"#14b8a6"}),(0,a.jsx)("pointLight",{position:[2,-.5,1],intensity:1.2,color:"#f59e0b",distance:5,decay:2}),(0,a.jsx)(d.OH,{preset:"night"}),(0,a.jsx)(x,{count:50}),(0,a.jsx)(p,{url:t}),(0,a.jsx)(f._,{position:[0,-1.2,0],opacity:.35,scale:4,blur:2.5,far:4,color:"#1e1b4b"}),(0,a.jsx)(h.N,{enablePan:!1,enableZoom:!1,minPolarAngle:Math.PI/6,maxPolarAngle:Math.PI/1.8,autoRotate:!1,dampingFactor:.05,enableDamping:!0})]})})}):(0,a.jsx)("div",{className:"relative ".concat(s),children:(0,a.jsx)(M,{})})}}}]);